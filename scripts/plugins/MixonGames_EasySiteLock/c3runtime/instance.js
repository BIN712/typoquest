"use strict";{const s=globalThis.C3;s.Plugins.MixonGames_EasySiteLock.Instance=class extends globalThis.ISDKInstanceBase{constructor(){super(),this._cnds=s.Plugins.MixonGames_EasySiteLock.Cnds,this._isLocked=!1;var t=this._getInitProperties();t&&(this._domains=t[0],this._keyName=t[1],this._disablePreview=t[2])}async checkDomain(){if(!this._checHost()){this._isLocked=!0;try{const i=await this.runtime.assets.fetchBlob(this._keyName);if(i){this._key=await i.text();const e=this.Nebula(this._previewUrl,this._key,this._checHost());var t,s=this._testDom();s&&(t=this._Funcgi(s),this._isLocked=!e.includes(t))}}catch(t){this._isLocked=!0}this._trigger(this._cnds.OnChecked),this._trigger(this._cnds.OnLocked)}}_release(){super._release()}_saveToJson(){return{}}_loadFromJson(t){}_tick(){return!1}Nebula(t,i,s){return this.drain=function(t){return t.split("").reverse().join("")},this.proper=function(t){for(var s=t.split(".").length,i=t.length,e=5381,n=52711;i--;){const s=t.charCodeAt(i);e=33*e^s,n=33*n^s}return""+(4096*(e>>>0)+(n>>>0))+s},this.first=function(t){return atob(t)},this.min=function(){var t=this.drain(i),t=this.wood(t);const s=this.first(t);return s.split("\n").map(t=>{t=this.drain(t),t=this.wood(t),t=this.first(t),t=this.pathfinder(t);return this.drain(t)})},this.pathfinder=function(t){return t.substring(0,t.length-5).substring(5)},this.wood=function(t){return t.replace(/[a-z]/gi,t=>String.fromCharCode(t.charCodeAt(0)+(t.toLowerCase()<="m"?13:-13)))},this.min()}_isPreview(){return"preview.construct.net"===self.location.host}_checHost(){return this._disablePreview&&this._isPreview()}_Funcgi(t){for(var s=t.split(".").length,i=t.length,e=5381,n=52711;i--;){const s=t.charCodeAt(i);e=33*e^s,n=33*n^s}return""+(4096*(e>>>0)+(n>>>0))+s}_testDom(){for(const t of this._domains.split("\n"))if(new RegExp(t).test(self.location.origin))return t;return!1}}}